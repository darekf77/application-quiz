"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[95],{220:(x,f,o)=>{o.d(f,{Pu:()=>c,UW:()=>C,Z5:()=>u,qg:()=>S,u4:()=>w});var i=o(6330);const S=(0,i.PH)("[question] INIT"),c=(0,i.PH)("[question] FETCH_QUESTION",(0,i.Ky)()),C=(0,i.PH)("[question] FFETCH_QUESTION_SUCCESS",(0,i.Ky)()),w=(0,i.PH)("[question] FETCH_QUESTION_ERROR",(0,i.Ky)()),u=(0,i.PH)("[question] MARK_ANSWERS",(0,i.Ky)())},2656:(x,f,o)=>{o.d(f,{B:()=>i});const i="questionsFeature"},40:(x,f,o)=>{o.d(f,{G:()=>w,w:()=>C});var i=o(6330),S=o(2656);const c=(0,i.ZF)(S.B),C=(0,i.P1)(c,u=>u?.currentQuestion),w=(0,i.P1)(c,u=>(u?.currentQuestion?.answers||[]).filter(T=>u.selectedAnswersIds.includes(T.id)).map(T=>T.id))},7679:(x,f,o)=>{o.d(f,{EW:()=>C,GX:()=>c,b7:()=>u,dH:()=>T,ht:()=>O,iT:()=>P,jg:()=>w,tP:()=>S});var i=o(6330);const S=(0,i.PH)("[topic] FETCH_TOPIC"),c=(0,i.PH)("[topic] FETCH_TOPIC_SUCCESS",(0,i.Ky)()),C=(0,i.PH)("[topic] FETCH_TOPIC_ERROR",(0,i.Ky)()),w=(0,i.PH)("[question] SHOW_ENTER_USERNAME",(0,i.Ky)()),u=(0,i.PH)("[question] DISMISS_ENTER_USERNAME"),T=(0,i.PH)("[question] SUBMIT_SCORE",(0,i.Ky)()),P=(0,i.PH)("[question] SUBMIT_SCORE_SUCCESS",(0,i.Ky)()),O=(0,i.PH)("[question] SUBMIT_SCORE_ERROR",(0,i.Ky)())},3095:(x,f,o)=>{o.r(f),o.d(f,{TopicContainerModule:()=>ct});var i=o(5966),S=o(3661),c=o(6330);const C="topicsFeature";var w=o(8097);const u=(0,c.ZF)(C),O=((0,c.P1)(u,e=>e?.currentTopic),(0,c.P1)(u,e=>e?.showInputPopup),(0,c.P1)(u,e=>e?.topicsToSubmit)),R=(0,c.P1)(w.LL.appRouterSelector,e=>Number(e.state.params.questionOid));var a=o(7679),F=o(220),E=o(354),D=o(3173),s=o(1926);let p=(()=>{class e{constructor(t){this.appService=t}static{this.\u0275fac=function(n){return new(n||e)(s.LFG(w.zi))}}static{this.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac})}}return e})();var g=o(9281),h=o(4709),I=o(40),B=o(5375);const L=["usernamePopup"];let y=(()=>{class e{constructor(t,n,r,l){this.store=t,this.service=n,this.route=r,this.updates$=l,this.currentTopic$=this.store.select(w.LL.selectedTopic).pipe((0,E.U)(v=>v&&g.Zf.from(v))),this.currentQuestion$=this.store.select(I.w).pipe((0,E.U)(v=>v&&g.HN.from(v))),this.selectedQuestionOid$=this.store.select(R),l.pipe((0,h.l4)(a.jg)).subscribe(()=>{this.usernamePopup.fire()})}onQuestionOidChanged(t){var n=this;return(0,S.Z)(function*(){const r=yield(0,D.z)(n.currentTopic$);n.service.appService.go(r.topicTitleKebabCase,t)})()}start(){this.store.dispatch(a.tP())}submit(t){this.store.dispatch(a.jg({topic:t}))}handleDismiss(){this.store.dispatch(a.b7())}emailEntered(t){this.store.dispatch(a.dH({username:t}))}ngOnInit(){this.store.dispatch(F.qg())}static{this.\u0275fac=function(n){return new(n||e)(s.Y36(c.yh),s.Y36(p),s.Y36(B.gz),s.Y36(h.eX))}}static{this.\u0275cmp=s.Xpm({type:e,selectors:[["app-topic"]],viewQuery:function(n,r){if(1&n&&s.Gf(L,5),2&n){let l;s.iGM(l=s.CRH())&&(r.usernamePopup=l.first)}},standalone:!1,decls:1,vars:0,template:function(n,r){1&n&&s._uU(0,"Hello from application quiz\n")},styles:["button[_ngcontent-%COMP%]{position:relative;float:right;margin-left:10px;margin-top:10px}.start-button[_ngcontent-%COMP%]{float:left;padding:50px;margin-bottom:20px}"]})}}return e})();var $=o(4219),M=o(445),U=o(745),z=o(5552),j=o(1995),Z=o(8464),K=o(68),X=o(8713),H=o(4873),V=o(3232);let _=(()=>{class e{constructor(t,n,r){this.actions$=t,this.service=n,this.store=r,this.userController=H.NV.inject(()=>V.p.getClass(g.st)),this.topicController=H.NV.inject(()=>V.p.getClass(g.DP)),this.fetchTopic=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(a.tP),(0,$.b)(l=>(0,M.of)(l).pipe((0,U.M)(this.store.select(w.LL.selectedTopic)),(0,z.w)(([v,{topicTitleKebabCase:b}])=>this.topicController.getByTitleKebabCase(b).received.observable.pipe((0,E.U)(m=>a.GX({topic:m.body.rawJson})),(0,j.K)(m=>(0,M.of)(a.EW({error:m}))))))))),this.navigateToQuestion=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(a.GX),(0,Z.p)(1e3),(0,K.b)(({topic:l})=>{this.service.appService.navigateToFirstQuestion(g.Zf.from(l))})),{dispatch:!1}),this.submit=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(a.dH),(0,U.M)(this.store.select(O),this.store.select(I.G)),(0,X.z)(([{username:l},v,b])=>this.userController.submit(b,encodeURIComponent(l),v?v.id:void 0).received.observable.pipe((0,E.U)(m=>a.iT({user:m.body.rawJson})),(0,j.K)(m=>(0,M.of)(a.ht({error:m}))))))),this.navigateToUserStats=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(a.iT),(0,K.b)(({user:l})=>{this.service.appService.goToStats(l.username)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||e)(s.LFG(h.eX),s.LFG(p),s.LFG(c.yh))}}static{this.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac})}}return e})();var N=o(708);const J=(0,c.Lq)({currentTopic:void 0,showInputPopup:!1,topicsToSubmit:void 0},(0,c.on)(a.GX,(e,{topic:d})=>({...e,currentTopic:N.cloneDeep(d)})),(0,c.on)(a.jg,(e,{topic:d})=>({...e,showInputPopup:!0,topicsToSubmit:N.cloneDeep(d)})),(0,c.on)(a.b7,e=>({...e,showInputPopup:!1})));var q=o(7219),tt=o(263);const k=new s.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),G=new s.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),Q=new s.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let W=(()=>{class e{constructor(t){this.swalProvider=t}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const t=function n(l){return"function"==typeof l&&void 0===l.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=t.then(l=>function r(l){return"function"==typeof l}(l)?l:l.default)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(k))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();function et(){return o.e(82).then(o.t.bind(o,3082,19))}let ot=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[W,{provide:k,useValue:t.provideSwal||et},{provide:G,useValue:t.fireOnInit||!1},{provide:Q,useValue:t.dismissOnDestroy||!0}]}}static forChild(t={}){return{ngModule:e,providers:[...t.provideSwal?[W,{provide:k,useValue:t.provideSwal}]:[],...void 0!==t.fireOnInit?[{provide:G,useValue:t.fireOnInit}]:[],...void 0!==t.dismissOnDestroy?[{provide:Q,useValue:t.dismissOnDestroy}]:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[i.ez]}),e})();var st=o(1941);const nt=["*"];function it(e,d){if(1&e){const t=s.EpF();s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r._onClosed())}),s.O4$(),s.TgZ(2,"svg",2),s._UZ(3,"path",3),s.qZA()()()}}let rt=(()=>{class e{constructor(){this._changeDetectorRef=(0,s.f3M)(s.sBO),this.type="default",this.dismissible=!1,this.elevation=0,this.closed=new s.vpe}get _hostClassList(){return`mtx-alert-${this.type} mat-elevation-z${this.elevation}`}_onClosed(){this._changeDetectorRef.markForCheck(),this.closed.emit(this)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=s.Xpm({type:e,selectors:[["mtx-alert"]],hostAttrs:["role","alert",1,"mtx-alert"],hostVars:4,hostBindings:function(n,r){2&n&&(s.Tol(r._hostClassList),s.ekj("mtx-alert-dismissible",r.dismissible))},inputs:{type:"type",dismissible:[2,"dismissible","dismissible",s.VuI],elevation:"elevation"},outputs:{closed:"closed"},exportAs:["mtxAlert"],ngContentSelectors:nt,decls:2,vars:1,consts:[[1,"mtx-alert-close"],["mat-icon-button","","type","button","aria-label","Close",3,"click"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false"],["d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"]],template:function(n,r){1&n&&(s.F$t(),s.Hsn(0),s.YNc(1,it,4,0,"div",0)),2&n&&(s.xp6(),s.um2(r.dismissible?1:-1))},dependencies:[st.RK],styles:[".mtx-alert{position:relative;display:block;padding:.75rem 1rem;margin-bottom:1rem;line-height:1.5;border:1px solid var(--mtx-alert-outline-color, var(--mat-sys-outline-variant));border-radius:var(--mtx-alert-container-shape, var(--mat-sys-corner-small));background-color:var(--mtx-alert-background-color, var(--mat-sys-surface-container));color:var(--mtx-alert-text-color, var(--mat-sys-on-surface))}.mtx-alert.mtx-alert-info{border-color:var(--mtx-alert-info-outline-color, light-dark(#abc7ff, #005cbb));background-color:var(--mtx-alert-info-background-color, light-dark(#d7e3ff, #002f65));color:var(--mtx-alert-info-text-color, light-dark(#002f65, #d7e3ff))}.mtx-alert.mtx-alert-success{border-color:var(--mtx-alert-success-outline-color, light-dark(#02e600, #026e00));background-color:var(--mtx-alert-success-background-color, light-dark(#cbffb8, #013a00));color:var(--mtx-alert-success-text-color, light-dark(#013a00, #cbffb8))}.mtx-alert.mtx-alert-warning{border-color:var(--mtx-alert-warning-outline-color, light-dark(#cdcd00, #626200));background-color:var(--mtx-alert-warning-background-color, light-dark(#fffeac, #323200));color:var(--mtx-alert-warning-text-color, light-dark(#323200, #fffeac))}.mtx-alert.mtx-alert-danger{border-color:var(--mtx-alert-danger-outline-color, light-dark(#ffb4a8, #c00100));background-color:var(--mtx-alert-danger-background-color, light-dark(#ffdad4, #690100));color:var(--mtx-alert-danger-text-color, light-dark(#690100, #ffdad4))}.mtx-alert-close{position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;width:3rem;height:3rem}[dir=rtl] .mtx-alert-close{right:auto;left:0}.mtx-alert-dismissible{padding-right:3rem}\n"],encapsulation:2,changeDetection:0})}}return e})(),lt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=s.oAB({type:e})}static{this.\u0275inj=s.cJS({imports:[i.ez,rt]})}}return e})();const at=[{path:"",pathMatch:"full",component:y},{path:"topic/:topicTitleKebabCase",component:y,children:[{path:"question",loadChildren:()=>o.e(339).then(o.bind(o,4339)).then(e=>e.QuestionContainerModule)}]}];let ct=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=s.oAB({type:e})}static{this.\u0275inj=s.cJS({providers:[p],imports:[i.ez,q.Bz.forChild(at),c.Aw.forFeature(C,J),h.sQ.forFeature([_]),H.Pd,tt.m0,g.TX,lt,ot.forRoot({})]})}}return e})()},8464:(x,f,o)=>{o.d(f,{p:()=>T});var i=o(7940),S=o(2077),c=o(2072),C=o(8837),u=o(9269);function T(P,O=i.z,R){const a=(0,u.H)(P,O);return function w(P,O){return(0,S.e)((R,a)=>{const{leading:F=!0,trailing:E=!1}=O??{};let D=!1,s=null,p=null,g=!1;const h=()=>{p?.unsubscribe(),p=null,E&&(L(),g&&a.complete())},I=()=>{p=null,g&&a.complete()},B=y=>p=(0,C.Xf)(P(y)).subscribe((0,c.x)(a,h,I)),L=()=>{if(D){D=!1;const y=s;s=null,a.next(y),!g&&B(y)}};R.subscribe((0,c.x)(a,y=>{D=!0,s=y,(!p||p.closed)&&(F?L():B(y))},()=>{g=!0,(!(E&&D&&p)||p.closed)&&a.complete()}))})}(()=>a,R)}}}]);